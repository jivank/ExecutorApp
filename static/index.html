<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" href="/static/style.css">
    <link rel="stylesheet" href="https://bootswatch.com/flatly/bootstrap.css" media="screen">
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.2/angular.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.2/angular-animate.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    <script src="/static/namespace.js"></script>
</head>

<body>
    <div ng-app="myApp" ng-controller="myCtrl" ng-init="getListing();getRunning();files=[];history=[]">
        <div id="message">
            <div ng-repeat="alert in alerts" id="inner-message" class="alert animation alert-dismissable alert-{{alert.type}}">
                <button type="button" ng-click="closeAlert()" class="close" data-dismiss="alert">x</button>
                {{alert.msg}}
            </div>
        </div>
        <div class="header">
            <h1>Executor</h1>
            <p>UI to execute scripts</p>
        </div>
        <div class="content">
            <div class="scripts">
                <h2>Available Scripts</h2>
                <h3 ng-repeat="file in files">
            {{file}}
            <button ng-click="addAlert(file);getRunning()" class="btn btn-default">Run</button>
            </div>
        </h3>
                <div class="history">
                    <h2>History</h2>
                    <table class="table table-striped table-hover ">
                        <thead>
                            <tr>
                                <th>Date</th>
                                <th>Name</th>
                                <th>Status</th>
                                <th>Output</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="animation" ng-repeat="process in history | orderBy:'date':true">
                                <td>{{process.date | date:'yyyy-MM-dd HH:mm:ss Z'}}</td>
                                <td class="animation">{{process.name}}</td>
                                <td>{{process.status}}</td>
                                <td>{{process.output}}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

            </div>
        </div>
</body>

</html>
